%%%-------------------------------------------------------------------
%%% @author kim <kim@limmen>
%%% @copyright (C) 2016, kim
%%% @doc
%%% Router module
%%% @end
%%% Created :  7 Aug 2016 by kim <kim@limmen>
%%%-------------------------------------------------------------------
-module(marley_example_router).

%% API
-export([get/3, post/3, not_found/3]).

%%%===================================================================
%%% API
%%%===================================================================

%%--------------------------------------------------------------------
%% @doc
%% Handles get requests
%% @spec get(URI, Body, Headers) -> {Code, Body, Headers}
%% @end
%%--------------------------------------------------------------------
get(<<"/index">>,_,_)->
    io:format("get router ~n"),
    {200, <<"Response to http get request for /index">>, <<"content-type: text/plain">>}.

%%--------------------------------------------------------------------
%% @doc
%% @spec
%% @end
%%--------------------------------------------------------------------
post(<<"/resource">>,_,_)->
    io:format("post router ~n"),
    Resource = <<"resource">>,
    {201, Resource, <<"content-type:application/json">>}.
%%--------------------------------------------------------------------
%% @doc
%% @spec
%% @end
%%--------------------------------------------------------------------
not_found(Route,_,_)->
    io:format("notfound router ~n"),
    {404, <<Route/bits," not found">>, <<"content-type:text/plain">>}.

%%%===================================================================
%%% Internal functions
%%%===================================================================
